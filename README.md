# 安全加密聊天系统 (Secure Chat System)

这是一个基于 Python 实现的简单端到端加密聊天系统，作为密码学课程的大作业。

## 项目简介

本项目实现了一个基于 C/S 架构的即时通讯系统，核心特点是**端到端加密 (End-to-End Encryption)**。服务器仅负责转发加密后的数据包，无法解密用户的聊天内容。

### 核心技术

1.  **RSA (非对称加密)**: 用于用户上线时的公钥交换和身份标识。
2.  **AES-GCM (对称加密)**: 用于实际聊天消息的高效加密，保证机密性和完整性。
3.  **混合加密 (Hybrid Encryption)**:
    *   每条消息生成一个随机的 AES 密钥。
    *   使用 AES-GCM 加密消息内容。
    *   使用接收方的 RSA 公钥加密 AES 密钥。
    *   将加密后的 AES 密钥、Nonce、Tag 和密文打包发送。

## 功能特性

*   **用户注册与密钥生成**: 客户端启动时自动生成 2048 位 RSA 密钥对。
*   **公钥自动交换**: 用户上线时自动广播公钥，在线用户自动同步。
*   **私密聊天**: 支持指定用户进行加密私聊 (`@用户名 消息`)。
*   **安全性**: 服务器无法窥探消息内容，只有持有对应私钥的目标用户才能解密。

## 环境要求

*   Python 3.6+
*   依赖库: `cryptography`

## 安装与运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 启动服务器

服务器负责消息转发，需最先启动。

```bash
python src/server.py
```

### 3. 启动客户端

可以启动多个客户端进行测试。

**客户端 A:**
```bash
python src/client.py
# 输入用户名: Alice
```

**客户端 B:**
```bash
python src/client.py
# 输入用户名: Bob
```

### 4. 开始聊天

在客户端 B 中输入:
```
@Alice 你好，这是一条加密消息！
```

Alice 的终端将显示解密后的消息，而服务器日志中只能看到加密后的乱码。

## 演示视频

(在此处填写 B 站演示视频链接)

## 目录结构

*   `src/server.py`: 转发服务器
*   `src/client.py`: 聊天客户端
*   `src/crypto_utils.py`: 加密工具库 (RSA/AES 实现)
*   `requirements.txt`: 项目依赖

## 声明

本项目仅供学习交流使用。
